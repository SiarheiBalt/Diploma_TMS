{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/GIT/Diploma_TMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"D:/GIT/Diploma_TMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2;import{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Route,Redirect}from\"react-router-dom\";import styled from\"styled-components\";import{getDate}from\"../../common/functions\";import{Mask}from\"../../common/style\";import{ACTIONS}from\"../../redux/reducers/constans\";import{Reviews}from\"./Reviews\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RevieweForm=function RevieweForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),redirect=_useState6[0],setRedirect=_useState6[1];var dispatch=useDispatch();var state=useSelector(function(state){return state.reviewsReducer;});useEffect(function(){dispatch({type:ACTIONS.SIGN_USER});},[]);var onChangeArea=function onChangeArea(e){setText(e.target.value);};var onchangeInput=function onchangeInput(e){setName(e.target.value);};var send=function send(){var date=getDate();dispatch({type:ACTIONS.SEND_REVIEWE,text:text,name:name,date:date});setText(\"\");setName(\"\");setRedirect(true);dispatch({type:ACTIONS.GET_REVIEWS});};return!redirect?/*#__PURE__*/_jsx(\"div\",{children:!state.acces?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{style:{color:\"black\",backgroundColor:\"#ff998d\",height:\"70px\"},children:\"\\u0412\\u044B \\u043D\\u0435 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u043D\\u044B. \\u041F\\u0440\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0435 \\u043E\\u0442\\u0437\\u044B\\u0432\\u044B \\u0438 \\u0432\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 email \\u0447\\u0442\\u043E\\u0431 \\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432.\"})}):/*#__PURE__*/_jsx(Mask,{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u041D\\u0430\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0439 \\u043E\\u0442\\u0437\\u044B\\u0432 \\u0438 \\u043D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u043A\\u043D\\u043E\\u043F\\u043A\\u0443 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C!\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Имя\",onChange:onchangeInput,value:name}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Ваш отзыв\",value:text,onChange:onChangeArea,name:\"\",id:\"\",cols:\"30\",rows:\"10\"}),/*#__PURE__*/_jsx(\"button\",{onClick:send,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})})}):/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0412\\u0430\\u0448 \\u043E\\u0442\\u0437\\u044B\\u0432 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D.\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u0440\\u0435\\u0446\\u0435\\u0437\\u0438\\u044E!\"})]});};var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  flex-wrap: nowrap;\\n  justify-content: space-around;\\n  height: 350px;\\n  padding: 20px;\\n\"])));var Flex=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: cornflowerblue;\\n\"])));","map":{"version":3,"sources":["D:/GIT/Diploma_TMS/src/components/Reviews/RevieweForm.jsx"],"names":["useState","useEffect","useDispatch","useSelector","Route","Redirect","styled","getDate","Mask","ACTIONS","Reviews","RevieweForm","text","setText","name","setName","redirect","setRedirect","dispatch","state","reviewsReducer","type","SIGN_USER","onChangeArea","e","target","value","onchangeInput","send","date","SEND_REVIEWE","GET_REVIEWS","acces","color","backgroundColor","height","Wrapper","div","Flex"],"mappings":"uUAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,kBAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,OAAT,KAAwB,wBAAxB,CACA,OAASC,IAAT,KAAqB,oBAArB,CACA,OAASC,OAAT,KAAwB,+BAAxB,CACA,OAASC,OAAT,KAAwB,WAAxB,C,wFAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC/B,cAAwBX,QAAQ,CAAC,EAAD,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eACA,eAAwBb,QAAQ,CAAC,EAAD,CAAhC,yCAAOc,IAAP,eAAaC,OAAb,eACA,eAAgCf,QAAQ,CAAC,KAAD,CAAxC,yCAAOgB,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CACA,GAAMiB,CAAAA,KAAK,CAAGhB,WAAW,CAAC,SAACgB,KAAD,QAAWA,CAAAA,KAAK,CAACC,cAAjB,EAAD,CAAzB,CAEAnB,SAAS,CAAC,UAAM,CACdiB,QAAQ,CAAC,CAAEG,IAAI,CAAEZ,OAAO,CAACa,SAAhB,CAAD,CAAR,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BX,OAAO,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAFD,CAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACH,CAAD,CAAO,CAC3BT,OAAO,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAFD,CAGA,GAAME,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAIC,CAAAA,IAAI,CAAGtB,OAAO,EAAlB,CACAW,QAAQ,CAAC,CAAEG,IAAI,CAAEZ,OAAO,CAACqB,YAAhB,CAA8BlB,IAAI,CAAJA,IAA9B,CAAoCE,IAAI,CAAJA,IAApC,CAA0Ce,IAAI,CAAJA,IAA1C,CAAD,CAAR,CACAhB,OAAO,CAAC,EAAD,CAAP,CACAE,OAAO,CAAC,EAAD,CAAP,CACAE,WAAW,CAAC,IAAD,CAAX,CACAC,QAAQ,CAAC,CAAEG,IAAI,CAAEZ,OAAO,CAACsB,WAAhB,CAAD,CAAR,CACD,CAPD,CASA,MAAO,CAACf,QAAD,cACL,qBACG,CAACG,KAAK,CAACa,KAAP,cACC,kCACE,WACE,KAAK,CAAE,CACLC,KAAK,CAAE,OADF,CAELC,eAAe,CAAE,SAFZ,CAGLC,MAAM,CAAE,MAHH,CADT,iaADF,EADD,cAcC,KAAC,IAAD,wBACE,MAAC,OAAD,yBACE,yQADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAE,KAFf,CAGE,QAAQ,CAAER,aAHZ,CAIE,KAAK,CAAEb,IAJT,EAFF,cAQE,iBACE,WAAW,CAAE,WADf,CAEE,KAAK,CAAEF,IAFT,CAGE,QAAQ,CAAEW,YAHZ,CAIE,IAAI,CAAC,EAJP,CAKE,EAAE,CAAC,EALL,CAME,IAAI,CAAC,IANP,CAOE,IAAI,CAAC,IAPP,EARF,cAiBE,eAAQ,OAAO,CAAEK,IAAjB,8DAjBF,GADF,EAfJ,EADK,cAwCL,MAAC,IAAD,yBACE,2HADF,cAEE,2HAFF,GAxCF,CA6CD,CAvEM,CAyEP,GAAMQ,CAAAA,OAAO,CAAG9B,MAAM,CAAC+B,GAAV,4MAAb,CASA,GAAMC,CAAAA,IAAI,CAAGhC,MAAM,CAAC+B,GAAV,2MAAV","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { getDate } from \"../../common/functions\";\nimport { Mask } from \"../../common/style\";\nimport { ACTIONS } from \"../../redux/reducers/constans\";\nimport { Reviews } from \"./Reviews\";\n\nexport const RevieweForm = () => {\n  const [text, setText] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [redirect, setRedirect] = useState(false);\n  const dispatch = useDispatch();\n  const state = useSelector((state) => state.reviewsReducer);\n\n  useEffect(() => {\n    dispatch({ type: ACTIONS.SIGN_USER });\n  }, []);\n\n  const onChangeArea = (e) => {\n    setText(e.target.value);\n  };\n  const onchangeInput = (e) => {\n    setName(e.target.value);\n  };\n  const send = () => {\n    let date = getDate();\n    dispatch({ type: ACTIONS.SEND_REVIEWE, text, name, date });\n    setText(\"\");\n    setName(\"\");\n    setRedirect(true);\n    dispatch({ type: ACTIONS.GET_REVIEWS });\n  };\n\n  return !redirect ? (\n    <div>\n      {!state.acces ? (\n        <div>\n          <h3\n            style={{\n              color: \"black\",\n              backgroundColor: \"#ff998d\",\n              height: \"70px\",\n            }}\n          >\n            Вы не авторизованы. Пройдите по вкладке отзывы и введите email чтоб\n            оставить отзыв.\n          </h3>\n        </div>\n      ) : (\n        <Mask>\n          <Wrapper>\n            <h5>Напишите свой отзыв и нажмите кнопку добавить!</h5>\n            <input\n              type=\"text\"\n              placeholder={\"Имя\"}\n              onChange={onchangeInput}\n              value={name}\n            />\n            <textarea\n              placeholder={\"Ваш отзыв\"}\n              value={text}\n              onChange={onChangeArea}\n              name=\"\"\n              id=\"\"\n              cols=\"30\"\n              rows=\"10\"\n            ></textarea>\n            <button onClick={send}>Добавить</button>\n          </Wrapper>\n        </Mask>\n      )}\n    </div>\n  ) : (\n    <Flex>\n      <h3>Ваш отзыв добавлен.</h3>\n      <h3>Спасибо за рецезию!</h3>\n    </Flex>\n  );\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  height: 350px;\n  padding: 20px;\n`;\n\nconst Flex = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: cornflowerblue;\n`;\n"]},"metadata":{},"sourceType":"module"}