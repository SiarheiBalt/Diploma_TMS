{"ast":null,"code":"import _regeneratorRuntime from\"D:/GIT/Diploma_TMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getCostSaga),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(costSaga),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(getPostersSaga),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(postersSaga),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(pushPoster),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(pushPosterSaga),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(removePoster),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(removePosterSaga),_marked9=/*#__PURE__*/_regeneratorRuntime.mark(checkAdminLogin),_marked10=/*#__PURE__*/_regeneratorRuntime.mark(checkAdminLoginSaga),_marked11=/*#__PURE__*/_regeneratorRuntime.mark(getOutAdmin),_marked12=/*#__PURE__*/_regeneratorRuntime.mark(getOutAdminSaga),_marked13=/*#__PURE__*/_regeneratorRuntime.mark(getSongList),_marked14=/*#__PURE__*/_regeneratorRuntime.mark(getSongListSaga),_marked15=/*#__PURE__*/_regeneratorRuntime.mark(pushSong),_marked16=/*#__PURE__*/_regeneratorRuntime.mark(pushSongSaga),_marked17=/*#__PURE__*/_regeneratorRuntime.mark(removeSong),_marked18=/*#__PURE__*/_regeneratorRuntime.mark(removeSongSaga),_marked19=/*#__PURE__*/_regeneratorRuntime.mark(getReviews),_marked20=/*#__PURE__*/_regeneratorRuntime.mark(getReviewsSaga),_marked21=/*#__PURE__*/_regeneratorRuntime.mark(sendMailAndCreateUser),_marked22=/*#__PURE__*/_regeneratorRuntime.mark(sendMailAndCreateUserSaga),_marked23=/*#__PURE__*/_regeneratorRuntime.mark(sendReviewe),_marked24=/*#__PURE__*/_regeneratorRuntime.mark(sendRevieweSaga),_marked25=/*#__PURE__*/_regeneratorRuntime.mark(signInUser),_marked26=/*#__PURE__*/_regeneratorRuntime.mark(signInUserSaga);import{takeEvery,call,put,actionChannel}from\"redux-saga/effects\";import{ACTIONS}from\"./constans\";import{addElDatabase,checkOutOf,getDatabase,initializeAuthAdmin,readDatabase,removeItemDatabase,signOutAdmin,createUser,sendSignInLinkToEmail,singInAfterGetMail,delleteUser}from\"../fireBaseFunctions\";function getCostSaga(action){var paymentCostDb;return _regeneratorRuntime.wrap(function getCostSaga$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return put({type:ACTIONS.GET_DATA_USERS_COST,costData:action.costData});case 3:_context.next=5;return call(function(){return getDatabase(\"groupCost\");});case 5:paymentCostDb=_context.sent;_context.next=8;return put({type:ACTIONS.GET_DATA_DB_COST,paymentCostDb:paymentCostDb});case 8:_context.next=10;return put({type:ACTIONS.SET_BAND_COST});case 10:_context.next=14;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);case 14:case\"end\":return _context.stop();}}},_marked,null,[[0,12]]);}export function costSaga(){return _regeneratorRuntime.wrap(function costSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeEvery(ACTIONS.PAYMENT_BAND_COST,getCostSaga);case 2:case\"end\":return _context2.stop();}}},_marked2);}function getPostersSaga(){var posters;return _regeneratorRuntime.wrap(function getPostersSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return call(function(){return readDatabase(\"posters\");});case 3:posters=_context3.sent;_context3.next=6;return put({type:ACTIONS.GET_POSTERS_DB_SUCCES,posters:posters});case 6:_context3.next=10;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);case 10:case\"end\":return _context3.stop();}}},_marked3,null,[[0,8]]);}export function postersSaga(){return _regeneratorRuntime.wrap(function postersSaga$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeEvery(ACTIONS.GET_POSTERS_DB,getPostersSaga);case 2:case\"end\":return _context4.stop();}}},_marked4);}function pushPoster(action){return _regeneratorRuntime.wrap(function pushPoster$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return call(function(){return addElDatabase(action.text,\"posters\");});case 3:_context5.next=7;break;case 5:_context5.prev=5;_context5.t0=_context5[\"catch\"](0);case 7:case\"end\":return _context5.stop();}}},_marked5,null,[[0,5]]);}export function pushPosterSaga(){return _regeneratorRuntime.wrap(function pushPosterSaga$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeEvery(ACTIONS.PUSH_POSTER,pushPoster);case 2:case\"end\":return _context6.stop();}}},_marked6);}function removePoster(action){return _regeneratorRuntime.wrap(function removePoster$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return call(function(){return removeItemDatabase(action.id,\"posters\");});case 3:_context7.next=5;return put({type:ACTIONS.GET_POSTERS_DB});case 5:_context7.next=9;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](0);case 9:case\"end\":return _context7.stop();}}},_marked7,null,[[0,7]]);}export function removePosterSaga(){return _regeneratorRuntime.wrap(function removePosterSaga$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return takeEvery(ACTIONS.REMOVE_POSTER,removePoster);case 2:case\"end\":return _context8.stop();}}},_marked8);}function checkAdminLogin(action){var responseAuthUid;return _regeneratorRuntime.wrap(function checkAdminLogin$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return call(function(){return initializeAuthAdmin(action.login,action.password);});case 3:responseAuthUid=_context9.sent;_context9.next=6;return put({type:ACTIONS.CHECK_LOGIN_PASSWORD_ADMIN_CUCCES,responseAuthUid:responseAuthUid});case 6:_context9.next=10;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](0);case 10:case\"end\":return _context9.stop();}}},_marked9,null,[[0,8]]);}export function checkAdminLoginSaga(){return _regeneratorRuntime.wrap(function checkAdminLoginSaga$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return takeEvery(ACTIONS.CHECK_LOGIN_PASSWORD_ADMIN,checkAdminLogin);case 2:case\"end\":return _context10.stop();}}},_marked10);}function getOutAdmin(){return _regeneratorRuntime.wrap(function getOutAdmin$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;_context11.next=3;return call(function(){return signOutAdmin();});case 3:_context11.next=5;return put({type:ACTIONS.SIGN_OUT_ADMIN_SUCCES});case 5:_context11.next=7;return call(function(){return checkOutOf();});case 7:_context11.next=12;break;case 9:_context11.prev=9;_context11.t0=_context11[\"catch\"](0);console.log(_context11.t0);case 12:case\"end\":return _context11.stop();}}},_marked11,null,[[0,9]]);}export function getOutAdminSaga(){return _regeneratorRuntime.wrap(function getOutAdminSaga$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return takeEvery(ACTIONS.SIGN_OUT_ADMIN,getOutAdmin);case 2:case\"end\":return _context12.stop();}}},_marked12);}function getSongList(){var response;return _regeneratorRuntime.wrap(function getSongList$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.prev=0;_context13.next=3;return call(function(){return getDatabase(\"songList\");});case 3:response=_context13.sent;_context13.next=6;return put({type:ACTIONS.GET_DATA_DB_SONGS_SUCCES,songs:response});case 6:_context13.next=11;break;case 8:_context13.prev=8;_context13.t0=_context13[\"catch\"](0);console.log(_context13.t0);case 11:case\"end\":return _context13.stop();}}},_marked13,null,[[0,8]]);}export function getSongListSaga(){return _regeneratorRuntime.wrap(function getSongListSaga$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return takeEvery(ACTIONS.GET_DATA_DB_SONGS,getSongList);case 2:case\"end\":return _context14.stop();}}},_marked14);}function pushSong(action){return _regeneratorRuntime.wrap(function pushSong$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.prev=0;_context15.next=3;return call(function(){return addElDatabase(action.song.song,\"songList/\".concat(action.song.selected));});case 3:_context15.next=8;break;case 5:_context15.prev=5;_context15.t0=_context15[\"catch\"](0);console.log(_context15.t0);case 8:case\"end\":return _context15.stop();}}},_marked15,null,[[0,5]]);}export function pushSongSaga(){return _regeneratorRuntime.wrap(function pushSongSaga$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return takeEvery(ACTIONS.PUSH_SONG,pushSong);case 2:case\"end\":return _context16.stop();}}},_marked16);}function removeSong(actions){return _regeneratorRuntime.wrap(function removeSong$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:console.log(\"songList/\".concat(actions.song.type));_context17.prev=1;_context17.next=4;return call(function(){return removeItemDatabase(actions.song.songId,\"songList/\".concat(actions.song.type));});case 4:_context17.next=6;return put({type:ACTIONS.GET_DATA_DB_SONGS});case 6:_context17.next=11;break;case 8:_context17.prev=8;_context17.t0=_context17[\"catch\"](1);console.log(_context17.t0);case 11:case\"end\":return _context17.stop();}}},_marked17,null,[[1,8]]);}export function removeSongSaga(){return _regeneratorRuntime.wrap(function removeSongSaga$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return takeEvery(ACTIONS.REMOVE_SONG,removeSong);case 2:case\"end\":return _context18.stop();}}},_marked18);}function getReviews(){var reviewes;return _regeneratorRuntime.wrap(function getReviews$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_context19.next=2;return call(function(){return getDatabase(\"reviewes\");});case 2:reviewes=_context19.sent;_context19.next=5;return put({type:ACTIONS.GET_REVIEWS_SUCCES,reviewes:reviewes});case 5:case\"end\":return _context19.stop();}}},_marked19);}export function getReviewsSaga(){return _regeneratorRuntime.wrap(function getReviewsSaga$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_context20.next=2;return takeEvery(ACTIONS.GET_REVIEWS,getReviews);case 2:case\"end\":return _context20.stop();}}},_marked20);}function sendMailAndCreateUser(action){return _regeneratorRuntime.wrap(function sendMailAndCreateUser$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:_context21.next=2;return call(function(){return createUser(action.email,\"123456\");});case 2:_context21.next=4;return call(function(){return sendSignInLinkToEmail(action.email);});case 4:case\"end\":return _context21.stop();}}},_marked21);}export function sendMailAndCreateUserSaga(){return _regeneratorRuntime.wrap(function sendMailAndCreateUserSaga$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return takeEvery(ACTIONS.SEND_EMAIL,sendMailAndCreateUser);case 2:case\"end\":return _context22.stop();}}},_marked22);}function sendReviewe(action){var obj;return _regeneratorRuntime.wrap(function sendReviewe$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:_context23.next=2;return{name:action.name,text:action.text,time:action.date};case 2:obj=_context23.sent;_context23.next=5;return call(function(){return addElDatabase(obj,\"reviewes\");});case 5:_context23.next=7;return call(function(){return delleteUser();});case 7:_context23.next=9;return put({type:ACTIONS.REVIEWE_NOTALLOWED_ACCES});case 9:case\"end\":return _context23.stop();}}},_marked23);}export function sendRevieweSaga(){return _regeneratorRuntime.wrap(function sendRevieweSaga$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:_context24.next=2;return takeEvery(ACTIONS.SEND_REVIEWE,sendReviewe);case 2:case\"end\":return _context24.stop();}}},_marked24);}function signInUser(){var checkUser;return _regeneratorRuntime.wrap(function signInUser$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:_context25.next=2;return call(function(){return singInAfterGetMail();});case 2:_context25.next=4;return call(function(){return checkOutOf();});case 4:checkUser=_context25.sent;_context25.next=7;return checkUser===\"user out\"?put({type:ACTIONS.REVIEWE_NOTALLOWED_ACCES}):put({type:ACTIONS.REVIEWE_ACCES});case 7:case\"end\":return _context25.stop();}}},_marked25);}export function signInUserSaga(){return _regeneratorRuntime.wrap(function signInUserSaga$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:_context26.next=2;return takeEvery(ACTIONS.SIGN_USER,signInUser);case 2:case\"end\":return _context26.stop();}}},_marked26);}","map":{"version":3,"sources":["D:/GIT/Diploma_TMS/src/redux/reducers/sagas.js"],"names":["getCostSaga","costSaga","getPostersSaga","postersSaga","pushPoster","pushPosterSaga","removePoster","removePosterSaga","checkAdminLogin","checkAdminLoginSaga","getOutAdmin","getOutAdminSaga","getSongList","getSongListSaga","pushSong","pushSongSaga","removeSong","removeSongSaga","getReviews","getReviewsSaga","sendMailAndCreateUser","sendMailAndCreateUserSaga","sendReviewe","sendRevieweSaga","signInUser","signInUserSaga","takeEvery","call","put","actionChannel","ACTIONS","addElDatabase","checkOutOf","getDatabase","initializeAuthAdmin","readDatabase","removeItemDatabase","signOutAdmin","createUser","sendSignInLinkToEmail","singInAfterGetMail","delleteUser","action","type","GET_DATA_USERS_COST","costData","paymentCostDb","GET_DATA_DB_COST","SET_BAND_COST","PAYMENT_BAND_COST","posters","GET_POSTERS_DB_SUCCES","GET_POSTERS_DB","text","PUSH_POSTER","id","REMOVE_POSTER","login","password","responseAuthUid","CHECK_LOGIN_PASSWORD_ADMIN_CUCCES","CHECK_LOGIN_PASSWORD_ADMIN","SIGN_OUT_ADMIN_SUCCES","console","log","SIGN_OUT_ADMIN","response","GET_DATA_DB_SONGS_SUCCES","songs","GET_DATA_DB_SONGS","song","selected","PUSH_SONG","actions","songId","REMOVE_SONG","reviewes","GET_REVIEWS_SUCCES","GET_REVIEWS","email","SEND_EMAIL","name","time","date","obj","REVIEWE_NOTALLOWED_ACCES","SEND_REVIEWE","checkUser","REVIEWE_ACCES","SIGN_USER"],"mappings":"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","sourcesContent":["import { takeEvery, call, put, actionChannel } from \"redux-saga/effects\";\nimport { ACTIONS } from \"./constans\";\nimport {\n  addElDatabase,\n  checkOutOf,\n  getDatabase,\n  initializeAuthAdmin,\n  readDatabase,\n  removeItemDatabase,\n  signOutAdmin,\n  createUser,\n  sendSignInLinkToEmail,\n  singInAfterGetMail,\n  delleteUser,\n} from \"../fireBaseFunctions\";\n\nfunction* getCostSaga(action) {\n  try {\n    yield put({ type: ACTIONS.GET_DATA_USERS_COST, costData: action.costData });\n    const paymentCostDb = yield call(() => getDatabase(\"groupCost\"));\n    yield put({ type: ACTIONS.GET_DATA_DB_COST, paymentCostDb });\n    yield put({ type: ACTIONS.SET_BAND_COST });\n  } catch (er) {}\n}\nexport function* costSaga() {\n  yield takeEvery(ACTIONS.PAYMENT_BAND_COST, getCostSaga);\n}\n\nfunction* getPostersSaga() {\n  try {\n    const posters = yield call(() => readDatabase(\"posters\"));\n    yield put({ type: ACTIONS.GET_POSTERS_DB_SUCCES, posters: posters });\n  } catch (er) {}\n}\nexport function* postersSaga() {\n  yield takeEvery(ACTIONS.GET_POSTERS_DB, getPostersSaga);\n}\n\nfunction* pushPoster(action) {\n  try {\n    yield call(() => addElDatabase(action.text, \"posters\"));\n  } catch (er) {}\n}\nexport function* pushPosterSaga() {\n  yield takeEvery(ACTIONS.PUSH_POSTER, pushPoster);\n}\n\nfunction* removePoster(action) {\n  try {\n    yield call(() => removeItemDatabase(action.id, \"posters\"));\n    yield put({ type: ACTIONS.GET_POSTERS_DB });\n  } catch (er) {}\n}\nexport function* removePosterSaga() {\n  yield takeEvery(ACTIONS.REMOVE_POSTER, removePoster);\n}\n\nfunction* checkAdminLogin(action) {\n  try {\n    const responseAuthUid = yield call(() =>\n      initializeAuthAdmin(action.login, action.password)\n    );\n    yield put({\n      type: ACTIONS.CHECK_LOGIN_PASSWORD_ADMIN_CUCCES,\n      responseAuthUid,\n    });\n  } catch (er) {}\n}\nexport function* checkAdminLoginSaga() {\n  yield takeEvery(ACTIONS.CHECK_LOGIN_PASSWORD_ADMIN, checkAdminLogin);\n}\n\nfunction* getOutAdmin() {\n  try {\n    yield call(() => signOutAdmin());\n    yield put({ type: ACTIONS.SIGN_OUT_ADMIN_SUCCES });\n    yield call(() => checkOutOf());\n  } catch (er) {\n    console.log(er);\n  }\n}\nexport function* getOutAdminSaga() {\n  yield takeEvery(ACTIONS.SIGN_OUT_ADMIN, getOutAdmin);\n}\n\nfunction* getSongList() {\n  try {\n    const response = yield call(() => getDatabase(\"songList\"));\n    yield put({ type: ACTIONS.GET_DATA_DB_SONGS_SUCCES, songs: response });\n  } catch (er) {\n    console.log(er);\n  }\n}\nexport function* getSongListSaga() {\n  yield takeEvery(ACTIONS.GET_DATA_DB_SONGS, getSongList);\n}\n\nfunction* pushSong(action) {\n  try {\n    yield call(() =>\n      addElDatabase(action.song.song, `songList/${action.song.selected}`)\n    );\n  } catch (er) {\n    console.log(er);\n  }\n}\nexport function* pushSongSaga() {\n  yield takeEvery(ACTIONS.PUSH_SONG, pushSong);\n}\n\nfunction* removeSong(actions) {\n  console.log(`songList/${actions.song.type}`);\n  try {\n    yield call(() =>\n      removeItemDatabase(actions.song.songId, `songList/${actions.song.type}`)\n    );\n    yield put({ type: ACTIONS.GET_DATA_DB_SONGS });\n  } catch (er) {\n    console.log(er);\n  }\n}\nexport function* removeSongSaga() {\n  yield takeEvery(ACTIONS.REMOVE_SONG, removeSong);\n}\n\nfunction* getReviews() {\n  const reviewes = yield call(() => getDatabase(\"reviewes\"));\n  yield put({ type: ACTIONS.GET_REVIEWS_SUCCES, reviewes });\n}\nexport function* getReviewsSaga() {\n  yield takeEvery(ACTIONS.GET_REVIEWS, getReviews);\n}\n\nfunction* sendMailAndCreateUser(action) {\n  yield call(() => createUser(action.email, \"123456\"));\n  yield call(() => sendSignInLinkToEmail(action.email));\n}\nexport function* sendMailAndCreateUserSaga() {\n  yield takeEvery(ACTIONS.SEND_EMAIL, sendMailAndCreateUser);\n}\n\nfunction* sendReviewe(action) {\n  let obj = yield { name: action.name, text: action.text, time: action.date };\n  yield call(() => addElDatabase(obj, \"reviewes\"));\n  yield call(() => delleteUser());\n  yield put({ type: ACTIONS.REVIEWE_NOTALLOWED_ACCES });\n}\nexport function* sendRevieweSaga() {\n  yield takeEvery(ACTIONS.SEND_REVIEWE, sendReviewe);\n}\n\nfunction* signInUser() {\n  yield call(() => singInAfterGetMail());\n  const checkUser = yield call(() => checkOutOf());\n  yield checkUser === \"user out\"\n    ? put({ type: ACTIONS.REVIEWE_NOTALLOWED_ACCES })\n    : put({ type: ACTIONS.REVIEWE_ACCES });\n}\nexport function* signInUserSaga() {\n  yield takeEvery(ACTIONS.SIGN_USER, signInUser);\n}\n"]},"metadata":{},"sourceType":"module"}