{"ast":null,"code":"import _slicedToArray from\"D:/GIT/Diploma_TMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect}from\"react\";import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import styled from\"styled-components\";import{Mask}from\"../../common/style\";import{ACTIONS}from\"../../redux/reducers/constans\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Admin=function Admin(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),errorInput=_useState6[0],setErrorInput=_useState6[1];var acces=useSelector(function(state){return state.authReducer.admin;});var dispatch=useDispatch();useEffect(function(){acces.error!==null&&setErrorInput(true);},[acces]);var onChangeLogin=function onChangeLogin(e){setLogin(e.target.value);};var onchangePassword=function onchangePassword(e){setPassword(e.target.value);};var onKeyDown=function onKeyDown(e){e.key===\"Backspace\"&&setErrorInput(false);};var getLoginPassword=function getLoginPassword(){if(login===\"admin@band.by\"){dispatch({type:ACTIONS.CHECK_LOGIN_PASSWORD_ADMIN,login:login,password:password});setPassword(\"\");setLogin(\"\");}else{setErrorInput(true);}};var getOutAdmin=function getOutAdmin(){dispatch({type:ACTIONS.SIGN_OUT_ADMIN});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Mask,{children:/*#__PURE__*/_jsx(\"div\",{children:acces.accesForEdit?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0412\\u044B \\u0432\\u043E\\u0448\\u043B\\u0438 \\u043A\\u0430\\u043A \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u043E\\u0440 \\u0441\\u0430\\u0439\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:getOutAdmin,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u043D\\u0430 \\u0441\\u0430\\u0439\\u0442 \\u043A\\u0430\\u043A \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440, \\u0441 \\u0432\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C\\u044E \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F.\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[errorInput&&/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\"},children:[\" \",\"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043B\\u043E\\u0433\\u0438\\u043D \\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\" \"]}),/*#__PURE__*/_jsx(\"input\",{onKeyDown:onKeyDown,value:login,type:\"text\",placeholder:\"login\",onChange:onChangeLogin})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{value:password,type:\"password\",placeholder:\"password\",onChange:onchangePassword})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:getLoginPassword,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})})]})})]})})})});};","map":{"version":3,"sources":["D:/GIT/Diploma_TMS/src/components/Admin/Admin.jsx"],"names":["useEffect","useState","useDispatch","useSelector","styled","Mask","ACTIONS","Admin","login","setLogin","password","setPassword","errorInput","setErrorInput","acces","state","authReducer","admin","dispatch","error","onChangeLogin","e","target","value","onchangePassword","onKeyDown","key","getLoginPassword","type","CHECK_LOGIN_PASSWORD_ADMIN","getOutAdmin","SIGN_OUT_ADMIN","accesForEdit","color"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { Mask } from \"../../common/style\";\nimport { ACTIONS } from \"../../redux/reducers/constans\";\n\nexport const Admin = () => {\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorInput, setErrorInput] = useState(false);\n  const acces = useSelector((state) => state.authReducer.admin);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    acces.error !== null && setErrorInput(true);\n  }, [acces]);\n\n  const onChangeLogin = (e) => {\n    setLogin(e.target.value);\n  };\n  const onchangePassword = (e) => {\n    setPassword(e.target.value);\n  };\n  const onKeyDown = (e) => {\n    e.key === \"Backspace\" && setErrorInput(false);\n  };\n\n  const getLoginPassword = () => {\n    if (login === \"admin@band.by\") {\n      dispatch({ type: ACTIONS.CHECK_LOGIN_PASSWORD_ADMIN, login, password });\n      setPassword(\"\");\n      setLogin(\"\");\n    } else {\n      setErrorInput(true);\n    }\n  };\n\n  const getOutAdmin = () => {\n    dispatch({ type: ACTIONS.SIGN_OUT_ADMIN });\n  };\n\n  return (\n    <div>\n      <Mask>\n        <div>\n          {acces.accesForEdit ? (\n            <div>\n              <h4>Вы вошли как редактор сайта</h4>\n              <div>\n                <button onClick={getOutAdmin}>Выйти</button>\n              </div>\n            </div>\n          ) : (\n            <div>\n              <h3>\n                Войти на сайт как администратор, с возможностью редактирования.\n              </h3>\n              <div>\n                <div>\n                  <div>\n                    {errorInput && (\n                      <div style={{ color: \"red\" }}>\n                        {\" \"}\n                        Неверный логин или пароль{\" \"}\n                      </div>\n                    )}\n                    <input\n                      onKeyDown={onKeyDown}\n                      value={login}\n                      type={\"text\"}\n                      placeholder={\"login\"}\n                      onChange={onChangeLogin}\n                    />\n                  </div>\n                  <div>\n                    <input\n                      value={password}\n                      type={\"password\"}\n                      placeholder={\"password\"}\n                      onChange={onchangePassword}\n                    />\n                  </div>\n                  <div>\n                    <button onClick={getLoginPassword}>Войти</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </Mask>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}