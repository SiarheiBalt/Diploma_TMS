{"ast":null,"code":"import _slicedToArray from\"D:/GIT/Diploma_TMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{useSelector}from\"react-redux\";import styled from\"styled-components\";import{ACTIONS}from\"../../redux/reducers/constans\";import{Footer}from\"../Main/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var MailForAuth=function MailForAuth(_ref){var dispatch=_ref.dispatch;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),errorInput=_useState4[0],setErrorInput=_useState4[1];var _useState5=useState(window.localStorage.getItem(\"emailForSignIn\")?true:false),_useState6=_slicedToArray(_useState5,2),didRequest=_useState6[0],setDidRequest=_useState6[1];var onChangeNameInput=function onChangeNameInput(e){setInput(e.target.value);};var onKeyDown=function onKeyDown(e){e.key===\"Backspace\"&&setErrorInput(false);};var sendEmail=function sendEmail(){if(input.split(\"\").some(function(el){return el===\"@\";})&&input.length>7){dispatch({type:ACTIONS.SEND_EMAIL,email:input});setDidRequest(true);}else{setErrorInput(true);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:\"0px 10px 40px 10px\"},children:didRequest?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0417\\u0430\\u043F\\u0440\\u043E\\u0441 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D \\u043D\\u0430 \".concat(input,\"!\")})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432.\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u041D\\u0430 \\u0432\\u0430\\u0448 email \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u043E \\u043F\\u0438\\u0441\\u044C\\u043C\\u043E \\u0434\\u043B\\u044F \\u043F\\u043E\\u0434\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \\u0447\\u0442\\u043E \\u0412\\u044B \\u044D\\u0442\\u043E \\u0412\\u044B. \\u041F\\u0440\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E \\u0441\\u0441\\u044B\\u043B\\u043A\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u043E\\u0439 \\u0432 \\u043F\\u0438\\u0441\\u044C\\u043C\\u0435, \\u0433\\u0434\\u0435 \\u0412\\u0430\\u043C \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u0430 \\u0444\\u043E\\u0440\\u043C\\u0430 \\u0434\\u043B\\u044F \\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u044F.\"}),errorInput&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:\" \\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442 email \"}),/*#__PURE__*/_jsx(\"input\",{onKeyDown:onKeyDown,type:\"text\",value:input,onChange:onChangeNameInput,placeholder:\"email\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendEmail,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})}),/*#__PURE__*/_jsx(Footer,{})]});};","map":{"version":3,"sources":["D:/GIT/Diploma_TMS/src/components/Reviews/MailForAuth.jsx"],"names":["useState","useSelector","styled","ACTIONS","Footer","MailForAuth","dispatch","input","setInput","errorInput","setErrorInput","window","localStorage","getItem","didRequest","setDidRequest","onChangeNameInput","e","target","value","onKeyDown","key","sendEmail","split","some","el","length","type","SEND_EMAIL","email","padding","color"],"mappings":"yIAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,OAAT,KAAwB,+BAAxB,CACA,OAASC,MAAT,KAAuB,gBAAvB,C,wFAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAC3C,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAoCR,QAAQ,CAAC,KAAD,CAA5C,yCAAOS,UAAP,eAAmBC,aAAnB,eACA,eAAoCV,QAAQ,CAC1CW,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,gBAA5B,EAAgD,IAAhD,CAAuD,KADb,CAA5C,yCAAOC,UAAP,eAAmBC,aAAnB,eAGA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC/BT,QAAQ,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAFD,CAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACH,CAAD,CAAO,CACvBA,CAAC,CAACI,GAAF,GAAU,WAAV,EAAyBX,aAAa,CAAC,KAAD,CAAtC,CACD,CAFD,CAIA,GAAMY,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAIf,KAAK,CAACgB,KAAN,CAAY,EAAZ,EAAgBC,IAAhB,CAAqB,SAACC,EAAD,QAAQA,CAAAA,EAAE,GAAK,GAAf,EAArB,GAA4ClB,KAAK,CAACmB,MAAN,CAAe,CAA/D,CAAkE,CAChEpB,QAAQ,CAAC,CAAEqB,IAAI,CAAExB,OAAO,CAACyB,UAAhB,CAA4BC,KAAK,CAAEtB,KAAnC,CAAD,CAAR,CACAQ,aAAa,CAAC,IAAD,CAAb,CACD,CAHD,IAGO,CACLL,aAAa,CAAC,IAAD,CAAb,CACD,CACF,CAPD,CAQA,mBACE,oCACE,YAAK,KAAK,CAAE,CAAEoB,OAAO,CAAE,oBAAX,CAAZ,UACGhB,UAAU,cACT,kCACE,uIAA4BP,KAA5B,OADF,EADS,cAKT,oCACE,wGADF,cAEE,qxBAFF,CAOGE,UAAU,eACT,YAAK,KAAK,CAAE,CAAEsB,KAAK,CAAE,KAAT,CAAZ,2GARJ,cAUE,cACE,SAAS,CAAEX,SADb,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEb,KAHT,CAIE,QAAQ,CAAES,iBAJZ,CAKE,WAAW,CAAE,OALf,EAVF,cAiBE,eAAQ,OAAO,CAAEM,SAAjB,oEAjBF,GANJ,EADF,cA4BE,KAAC,MAAD,IA5BF,GADF,CAgCD,CArDM","sourcesContent":["import { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { ACTIONS } from \"../../redux/reducers/constans\";\nimport { Footer } from \"../Main/Footer\";\n\nexport const MailForAuth = ({ dispatch }) => {\n  const [input, setInput] = useState(\"\");\n  const [errorInput, setErrorInput] = useState(false);\n  const [didRequest, setDidRequest] = useState(\n    window.localStorage.getItem(\"emailForSignIn\") ? true : false\n  );\n  const onChangeNameInput = (e) => {\n    setInput(e.target.value);\n  };\n  const onKeyDown = (e) => {\n    e.key === \"Backspace\" && setErrorInput(false);\n  };\n\n  const sendEmail = () => {\n    if (input.split(\"\").some((el) => el === \"@\") && input.length > 7) {\n      dispatch({ type: ACTIONS.SEND_EMAIL, email: input });\n      setDidRequest(true);\n    } else {\n      setErrorInput(true);\n    }\n  };\n  return (\n    <div>\n      <div style={{ padding: \"0px 10px 40px 10px\" }}>\n        {didRequest ? (\n          <div>\n            <h4>{`Запрос отправлен на ${input}!`}</h4>\n          </div>\n        ) : (\n          <div>\n            <h5>Оставить отзыв.</h5>\n            <div>\n              На ваш email будет отправлено письмо для подверждения что Вы это\n              Вы. Пройдите по ссылке указанной в письме, где Вам будет\n              предложена форма для заполнения.\n            </div>\n            {errorInput && (\n              <div style={{ color: \"red\" }}> Неверный формат email </div>\n            )}\n            <input\n              onKeyDown={onKeyDown}\n              type=\"text\"\n              value={input}\n              onChange={onChangeNameInput}\n              placeholder={\"email\"}\n            />\n            <button onClick={sendEmail}>Отправить</button>\n          </div>\n        )}\n      </div>\n      <Footer />\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}