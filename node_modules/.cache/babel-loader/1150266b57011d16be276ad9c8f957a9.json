{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/GIT/Diploma_TMS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import{useEffect}from\"react\";import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import styled from\"styled-components\";import{Mask}from\"../../common/style\";import{ACTIONS}from\"../../redux/reducers/constans\";import{AddFormPoster}from\"./AddPosterForm\";import{Poster}from\"./Poster\";import title from\"./../../img/background/title.jpg\";import{Footer}from\"../Main/Footer\";import{Preloader}from\"../Preloader/Preloader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Posters=function Posters(){var state=useSelector(function(state){return state.posterReducer;});var acces=useSelector(function(state){return state.authReducer.admin.accesForEdit;});var dispatch=useDispatch();useEffect(function(){dispatch({type:ACTIONS.GET_POSTERS_DB});},[]);var removePoster=function removePoster(id){dispatch({type:ACTIONS.REMOVE_POSTER,id:id});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BackGround,{background:title,children:/*#__PURE__*/_jsx(Mask,{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/pictures/images/posters1.jpg\",style:{borderRadius:\"3px\"},alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0410\\u0444\\u0438\\u0448\\u043A\\u0430\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[state.posters===null?/*#__PURE__*/_jsx(Preloader,{}):/*#__PURE__*/_jsx(\"ul\",{children:state.posters.map(function(poster,i){return/*#__PURE__*/_jsx(Poster,{removePoster:removePoster,poster:poster.el,acces:acces,id:poster.id},i);})}),acces&&/*#__PURE__*/_jsx(AddFormPoster,{})]})]})})}),/*#__PURE__*/_jsx(Footer,{})]});};var BackGround=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-image: url(\",\");\\n  background-size: cover;\\n  padding: 20px 0;\\n\"])),function(_ref){var background=_ref.background;return background;});var Wrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding-top: 20px;\\n\"])));","map":{"version":3,"sources":["D:/GIT/Diploma_TMS/src/components/Posters/Posters.jsx"],"names":["useEffect","useState","useDispatch","useSelector","styled","Mask","ACTIONS","AddFormPoster","Poster","title","Footer","Preloader","Posters","state","posterReducer","acces","authReducer","admin","accesForEdit","dispatch","type","GET_POSTERS_DB","removePoster","id","REMOVE_POSTER","process","env","PUBLIC_URL","borderRadius","posters","map","poster","i","el","BackGround","div","background","Wrapper"],"mappings":"8LAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,IAAT,KAAqB,oBAArB,CACA,OAASC,OAAT,KAAwB,+BAAxB,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kCAAlB,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,OAASC,SAAT,KAA0B,wBAA1B,C,wFAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAC3B,GAAMC,CAAAA,KAAK,CAAGV,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACC,aAAjB,EAAD,CAAzB,CACA,GAAMC,CAAAA,KAAK,CAAGZ,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACG,WAAN,CAAkBC,KAAlB,CAAwBC,YAAnC,EAAD,CAAzB,CACA,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACdmB,QAAQ,CAAC,CAAEC,IAAI,CAAEd,OAAO,CAACe,cAAhB,CAAD,CAAR,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAQ,CAC3BJ,QAAQ,CAAC,CAAEC,IAAI,CAAEd,OAAO,CAACkB,aAAhB,CAA+BD,EAAE,CAAFA,EAA/B,CAAD,CAAR,CACD,CAFD,CAIA,mBACE,oCACE,KAAC,UAAD,EAAY,UAAU,CAAEd,KAAxB,uBACE,KAAC,IAAD,wBACE,MAAC,OAAD,yBACE,YACE,GAAG,CAAEgB,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,+BADhC,CAEE,KAAK,CAAE,CAAEC,YAAY,CAAE,KAAhB,CAFT,CAGE,GAAG,CAAC,EAHN,EADF,cAME,kCACE,4DADF,EANF,cASE,uBACGf,KAAK,CAACgB,OAAN,GAAkB,IAAlB,cACC,KAAC,SAAD,IADD,cAGC,oBACGhB,KAAK,CAACgB,OAAN,CAAcC,GAAd,CAAkB,SAACC,MAAD,CAASC,CAAT,qBACjB,KAAC,MAAD,EACE,YAAY,CAAEV,YADhB,CAGE,MAAM,CAAES,MAAM,CAACE,EAHjB,CAIE,KAAK,CAAElB,KAJT,CAKE,EAAE,CAAEgB,MAAM,CAACR,EALb,EAEOS,CAFP,CADiB,EAAlB,CADH,EAJJ,CAiBGjB,KAAK,eAAI,KAAC,aAAD,IAjBZ,GATF,GADF,EADF,EADF,cAkCE,KAAC,MAAD,IAlCF,GADF,CAsCD,CAnDM,CAqDP,GAAMmB,CAAAA,UAAU,CAAG9B,MAAM,CAAC+B,GAAV,iJACU,kBAAGC,CAAAA,UAAH,MAAGA,UAAH,OAAoBA,CAAAA,UAApB,EADV,CAAhB,CAKA,GAAMC,CAAAA,OAAO,CAAGjC,MAAM,CAAC+B,GAAV,gKAAb","sourcesContent":["import { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { Mask } from \"../../common/style\";\nimport { ACTIONS } from \"../../redux/reducers/constans\";\nimport { AddFormPoster } from \"./AddPosterForm\";\nimport { Poster } from \"./Poster\";\nimport title from \"./../../img/background/title.jpg\";\nimport { Footer } from \"../Main/Footer\";\nimport { Preloader } from \"../Preloader/Preloader\";\n\nexport const Posters = () => {\n  const state = useSelector((state) => state.posterReducer);\n  const acces = useSelector((state) => state.authReducer.admin.accesForEdit);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch({ type: ACTIONS.GET_POSTERS_DB });\n  }, []);\n\n  const removePoster = (id) => {\n    dispatch({ type: ACTIONS.REMOVE_POSTER, id });\n  };\n\n  return (\n    <div>\n      <BackGround background={title}>\n        <Mask>\n          <Wrapper>\n            <img\n              src={process.env.PUBLIC_URL + \"/pictures/images/posters1.jpg\"}\n              style={{ borderRadius: \"3px\" }}\n              alt=\"\"\n            />\n            <div>\n              <h3>Афишка</h3>\n            </div>\n            <div>\n              {state.posters === null ? (\n                <Preloader />\n              ) : (\n                <ul>\n                  {state.posters.map((poster, i) => (\n                    <Poster\n                      removePoster={removePoster}\n                      key={i}\n                      poster={poster.el}\n                      acces={acces}\n                      id={poster.id}\n                    />\n                  ))}\n                </ul>\n              )}\n\n              {acces && <AddFormPoster />}\n            </div>\n          </Wrapper>\n        </Mask>\n      </BackGround>\n      <Footer />\n    </div>\n  );\n};\n\nconst BackGround = styled.div`\n  background-image: url(${({ background }) => background});\n  background-size: cover;\n  padding: 20px 0;\n`;\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 20px;\n`;\n"]},"metadata":{},"sourceType":"module"}